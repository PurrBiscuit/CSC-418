<% if (locals.success) { %>
  <div class="success" id="message">
    <p>User Added Successfully!</p>
  </div>
<% } %>

<p>Please fill in the form and click the submit button.</p>

<p>We will contact you asap.  Thank you!</p>

<form action="/contact-us" method="post">
  <label for="name">Name</label>
  <input class="required" type="text" id="name" name="name" onkeyup="toggleSubmit()">
  <label for="gender">Gender</label>
  <input class="required" type="text" id="gender" name="gender" onkeyup="toggleSubmit()">
  <input disabled="disabled" type="submit" value="Submit" id="contact-submit">
</form>

<script>
  const clearMessages = () => {
    const message = document.getElementById('message')

    if (message) message.remove()
  }

  const toggleSubmit = () => {
    clearMessages()

    const inputs = document.getElementsByClassName('required')
    const submitButton = document.getElementById('contact-submit')

    let isDisabled = false

    for (input of inputs) {
      if (input.value === "") {
        isDisabled = true
        break
      }
    }

    submitButton.disabled = isDisabled
  }
</script>
